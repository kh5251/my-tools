<!DOCTYPE html>
<html lang="ko">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9J3H9RR9ZD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9J3H9RR9ZD');
    </script>

    <script>
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§Œ ë‚˜ì´ ê³„ì‚°ê¸° (ë , ë³„ìë¦¬, ì¸ìƒì¡°ì–¸) - ì´ì§€íˆ´ì¦ˆ</title>
    <link rel="stylesheet" href="../css/style.css?v=2">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/korean-lunar-calendar/dist/korean-lunar-calendar.min.js"></script>

    <style>
        :root { --primary: #EC4899; }
        .result-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .res-card { background: var(--hover-bg); padding: 15px; border-radius: 12px; text-align: center; border: 1px solid var(--border); }
        .res-card h3 { font-size: 0.9rem; color: #9D174D; margin: 0 0 5px 0; }
        .res-val { font-size: 1.4rem; font-weight: 800; color: var(--text-main); }
        .main-age { font-size: 4rem; font-weight: 800; color: var(--primary); margin: 10px 0; line-height: 1; }
        
        /* ì¸ìƒ ì¡°ì–¸ ë§í’ì„  ìŠ¤íƒ€ì¼ */
        .advice-box {
            background: #FFFBEB;
            border: 2px solid #FCD34D;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            position: relative;
            text-align: left;
        }
        .advice-box::before {
            content: "ğŸ’¡ ë™ë…„ë°°ì˜ ì¡°ì–¸";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #FCD34D;
            color: #78350F;
            font-size: 0.8rem;
            padding: 2px 10px;
            border-radius: 10px;
            font-weight: bold;
        }
        .advice-text { color: #555; line-height: 1.6; font-size: 0.95rem; }
        .advice-highlight { font-weight: bold; color: #D97706; }

        /* â–¼â–¼â–¼ [ì¶”ê°€] ì–‘ë ¥/ìŒë ¥ ì„ íƒ ìŠ¤íƒ€ì¼ â–¼â–¼â–¼ */
        .cal-type-group { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 10px; background: var(--input-bg); padding: 10px; border-radius: 8px; border: 1px solid var(--border); }
        .cal-type-group label { margin: 0; cursor: pointer; display: flex; align-items: center; gap: 5px; font-weight: 500; font-size: 0.95rem; }
        .cal-type-group input[type="radio"], .cal-type-group input[type="checkbox"] { width: auto; margin: 0; accent-color: var(--primary); }
        .yoon-check { font-size: 0.85rem; color: var(--text-sub); border-left: 1px solid var(--border); padding-left: 15px; }
        .converted-date { font-size: 0.9rem; color: var(--primary); margin-top: 5px; font-weight: bold; }
    </style>
    <link rel="manifest" href="../manifest.json">

    <link rel="icon" type="image/png" sizes="32x32" href="../images/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../images/icon-192.png">

</head>
<body class="tool-page">
    <div class="container">
        <button class="tool-theme-btn" onclick="toggleThemeTool()">
            <i class="fas fa-moon"></i>
        </button>

        <h1><i class="fas fa-birthday-cake"></i> ë§Œ ë‚˜ì´ ê³„ì‚°ê¸°</h1>
        
        <div class="input-group">
            <div class="cal-type-group">
                <label><input type="radio" name="calType" value="solar" checked onclick="toggleYoon(false)"> ì–‘ë ¥</label>
                <label><input type="radio" name="calType" value="lunar" onclick="toggleYoon(true)"> ìŒë ¥</label>
                <label class="yoon-check" id="yoonLabel" style="display:none;">
                    <input type="checkbox" id="isYoon"> ìœ¤ë‹¬
                </label>
            </div>
            <label>ìƒë…„ì›”ì¼ ì…ë ¥</label>
            <input type="date" id="birthDate">
        </div>
        
        <button class="calc-btn" onclick="calcAge()">ë‚´ ë‚˜ì´ í™•ì¸í•˜ê¸°</button>

        <div class="result-box" id="result" style="display:none; text-align:center;">
            <div id="convertedDateInfo" style="display:none; margin-bottom: 15px; background: var(--hover-bg); padding: 8px; border-radius: 6px; font-size: 0.9rem;">
                </div>

            <div style="font-size:1.1rem; color:var(--text-sub);">í˜„ì¬ ë‹¹ì‹ ì˜ ë§Œ ë‚˜ì´ëŠ”</div>
            <div class="main-age" id="ageMan">0ì„¸</div>
            <div style="color:var(--text-sub); margin-bottom:20px;" id="ageKor">(ì—° ë‚˜ì´ 0ì„¸)</div>

            <div class="result-grid">
                <div class="res-card">
                    <h3>ë </h3>
                    <div class="res-val" id="zodiac">-</div>
                </div>
                <div class="res-card">
                    <h3>ë³„ìë¦¬</h3>
                    <div class="res-val" id="constellation">-</div>
                </div>
                <div class="res-card" style="grid-column: span 2; background:rgba(22, 163, 74, 0.1); border-color:#BBF7D0;">
                    <h3 style="color:#166534;">ë‹¤ìŒ ìƒì¼ê¹Œì§€</h3>
                    <div class="res-val" style="color:#15803D;" id="dDay">-</div>
                </div>
            </div>

            <div class="advice-box" id="adviceBox" style="display:none;">
                <div class="advice-text" id="adviceText"></div>
            </div>
        </div>

        <div class="info-section">
            <h2>2023ë…„ 6ì›”, 'ë§Œ ë‚˜ì´ í†µì¼ë²•' ì™„ë²½ ì •ë¦¬</h2>
            <p>ëŒ€í•œë¯¼êµ­ì€ ì˜¤ë«ë™ì•ˆ íƒœì–´ë‚˜ìë§ˆì 1ì‚´ì´ ë˜ëŠ” 'ì„¸ëŠ” ë‚˜ì´(í•œêµ­ì‹ ë‚˜ì´)', í˜„ì¬ ì—°ë„ì—ì„œ ì¶œìƒ ì—°ë„ë¥¼ ëº€ 'ì—° ë‚˜ì´', ê·¸ë¦¬ê³  ìƒì¼ì´ ì§€ë‚˜ì•¼ 1ì‚´ì„ ë¨¹ëŠ” 'ë§Œ ë‚˜ì´'ë¥¼ í˜¼ìš©í•´ ì™”ìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•œ ë²•ì , í–‰ì •ì  í˜¼ë€ì„ ì¤„ì´ê¸° ìœ„í•´ 2023ë…„ 6ì›” 28ì¼ë¶€í„° <strong>'ë§Œ ë‚˜ì´ í†µì¼ë²•'</strong>ì´ ì‹œí–‰ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ íŠ¹ë³„í•œ ê·œì •ì´ ì—†ëŠ” í•œ, ëª¨ë“  ë²•ì Â·ì‚¬íšŒì  ë‚˜ì´ëŠ” 'ë§Œ ë‚˜ì´'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>

            <h3>1. ì•„ì§ë„ 'ì—° ë‚˜ì´'ë¥¼ ì“°ëŠ” ê³³ì´ ìˆë‹¤?</h3>
            <p>ë²•ì´ ë°”ë€Œì—ˆì§€ë§Œ, í–‰ì • í¸ì˜ìƒ ì—¬ì „íˆ 'ì—° ë‚˜ì´(í˜„ì¬ ì—°ë„ - ì¶œìƒ ì—°ë„)'ë¥¼ ì ìš©í•˜ëŠ” ë¶„ì•¼ê°€ ìˆìŠµë‹ˆë‹¤. ìˆ Â·ë‹´ë°° êµ¬ë§¤ê°€ ëŒ€í‘œì ì…ë‹ˆë‹¤.</p>
            <ul>
                <li><strong>ì²­ì†Œë…„ ë³´í˜¸ë²•:</strong> ìˆ ê³¼ ë‹´ë°°ëŠ” ë§Œ 19ì„¸ê°€ ë˜ëŠ” í•´ì˜ 1ì›” 1ì¼ë¶€í„° êµ¬ë§¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ìƒì¼ì´ ì§€ë‚˜ì§€ ì•Šì•„ë„ ì—°ë„ê°€ ë°”ë€Œë©´ êµ¬ë§¤ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>
                <li><strong>ë³‘ì—­ë²•:</strong> ë³‘ì—­ íŒì • ê²€ì‚¬ë„ ì—° ë‚˜ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì†Œì§‘ë©ë‹ˆë‹¤.</li>
                <li><strong>ì´ˆë“±í•™êµ ì…í•™:</strong> ë§Œ 6ì„¸ê°€ ëœ ë‚ ì´ ì†í•˜ëŠ” í•´ì˜ ë‹¤ìŒ í•´ 3ì›” 1ì¼ì— ì…í•™í•©ë‹ˆë‹¤. (ê²°êµ­ ê°™ì€ ì—°ìƒì´ ê°™ì´ ì…í•™)</li>
            </ul>

            <h3>2. 12ê°„ì§€ ë  ê³„ì‚°ì˜ ê¸°ì¤€ (ì…ì¶˜ vs 1ì›” 1ì¼)</h3>
            <p>"ë¹ ë¥¸ ë…„ìƒì¸ë° ë¬´ìŠ¨ ë ì˜ˆìš”?"ë¼ëŠ” ì§ˆë¬¸, ë§ì´ ë“¤ì–´ë³´ì…¨ì£ ? ì‚¬ì‹¤ ë ë¥¼ ë‚˜ëˆ„ëŠ” ê¸°ì¤€ì— ëŒ€í•´ì„œëŠ” ë‘ ê°€ì§€ ì„¤ì´ ìˆìŠµë‹ˆë‹¤.</p>
            <ul>
                <li><strong>ì ˆê¸°ì„¤ (ì‚¬ì£¼ëª…ë¦¬í•™):</strong> ë§¤ë…„ ì–‘ë ¥ 2ì›” 4ì¼ê²½ì¸ <strong>'ì…ì¶˜(ç«‹æ˜¥)'</strong>ì„ ê¸°ì¤€ìœ¼ë¡œ ë ê°€ ë°”ë€ë‹ˆë‹¤. ì‚¬ì£¼ë¥¼ ë³¼ ë•ŒëŠ” ì´ ê¸°ì¤€ì„ ë”°ë¦…ë‹ˆë‹¤.</li>
                <li><strong>í˜„ì¬ í†µìš©ì„¤:</strong> í˜„ëŒ€ ì‚¬íšŒì—ì„œëŠ” ìŒë ¥ 1ì›” 1ì¼(ì„¤ë‚ )ì´ë‚˜ ì–‘ë ¥ 1ì›” 1ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ê¸°ë„ í•˜ì§€ë§Œ, í†µìƒì ìœ¼ë¡œëŠ” <strong>ì…ì¶˜</strong> ê¸°ì¤€ì´ ê°€ì¥ ì „í†µì ì¸ ë°©ì‹ì…ë‹ˆë‹¤.</li>
            </ul>
            <p>ì´ì§€íˆ´ì¦ˆ ê³„ì‚°ê¸°ëŠ” í˜„ëŒ€ì ì¸ í¸ì˜ë¥¼ ìœ„í•´ ì–‘ë ¥ ì¶œìƒ ì—°ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°€ì¥ ë„ë¦¬ í†µìš©ë˜ëŠ” ë ë¥¼ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.</p>

            <h3>3. ë‚˜ì´ë³„ ìƒì•  ì£¼ê¸°ì™€ ì¬ë¬´ ê´€ë¦¬ íŒ</h3>
            <p>ë‚˜ì´ëŠ” ë‹¨ìˆœí•œ ìˆ«ìê°€ ì•„ë‹ˆë¼, ë‚´ê°€ ì¸ìƒì˜ ì–´ëŠ ì§€ì ì„ ì§€ë‚˜ê³  ìˆëŠ”ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ì´ì •í‘œì…ë‹ˆë‹¤.</p>
            <ul>
                <li><strong>20ëŒ€ (ì‚¬íšŒ ì´ˆë…„ìƒ):</strong> ì¢…ì£ëˆ ëª¨ìœ¼ê¸°ê°€ ê°€ì¥ ì¤‘ìš”í•œ ì‹œê¸°ì…ë‹ˆë‹¤. ì›”ê¸‰ì˜ 50% ì´ìƒì„ ì €ì¶•í•˜ëŠ” ìŠµê´€ì„ ë“¤ì´ê³ , ì²­ì•½ í†µì¥ì€ í•„ìˆ˜ë¡œ ê°€ì…í•˜ì„¸ìš”.</li>
                <li><strong>30ëŒ€ (ê°€ì • í˜•ì„±ê¸°):</strong> ê²°í˜¼, ì¶œì‚°, ì£¼íƒ ë§ˆë ¨ ë“± ëª©ëˆ ë“¤ì–´ê°ˆ ì¼ì´ ë§ìŠµë‹ˆë‹¤. ëŒ€ì¶œ ê´€ë¦¬ì™€ ë³´í—˜ ë¦¬ëª¨ë¸ë§ì„ í†µí•´ ìœ„í—˜ì— ëŒ€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.</li>
                <li><strong>40ëŒ€ (ìë…€ ì„±ì¥ê¸°):</strong> ì†Œë“ì´ ê°€ì¥ ë†’ì§€ë§Œ ì§€ì¶œë„ ê°€ì¥ ë§ì€ ì‹œê¸°ì…ë‹ˆë‹¤. ìë…€ êµìœ¡ë¹„ì™€ ë…¸í›„ ì¤€ë¹„ì˜ ê· í˜•ì„ ë§ì¶”ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.</li>
                <li><strong>50ëŒ€ (ì€í‡´ ì¤€ë¹„ê¸°):</strong> ì€í‡´ê°€ ì½”ì•ì…ë‹ˆë‹¤. êµ­ë¯¼ì—°ê¸ˆ, í‡´ì§ì—°ê¸ˆ, ê°œì¸ì—°ê¸ˆì˜ '3ì¸µ ì—°ê¸ˆ' êµ¬ì¡°ë¥¼ ì ê²€í•˜ê³ , ì œ2ì˜ ì¸ìƒì„ ìœ„í•œ ì·¨ë¯¸ë‚˜ ê¸°ìˆ ì„ ë°°ì›Œë‘ì„¸ìš”.</li>
            </ul>

            <div class="highlight-box">
                <strong>ğŸ’¡ ì¬ë¯¸ë¡œ ë³´ëŠ” ë³„ìë¦¬ ìƒì‹</strong><br>
                ë³„ìë¦¬ëŠ” íƒœì–´ë‚œ ë‚  íƒœì–‘ì´ ìœ„ì¹˜í–ˆë˜ ë³„ìë¦¬ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì„œì–‘ ì ì„±ìˆ ì—ì„œ ìœ ë˜í–ˆìœ¼ë©°, ë¬¼ë³‘ìë¦¬(1/20~2/18)ë¶€í„° ì—¼ì†Œìë¦¬(12/25~1/19)ê¹Œì§€ ì´ 12ê°œê°€ ìˆìŠµë‹ˆë‹¤. 2011ë…„ NASAê°€ 'ë±€ì£¼ì¸ìë¦¬'ë¥¼ ì–¸ê¸‰í•˜ë©° 13ë³„ìë¦¬ ì„¤ì´ ëŒì•˜ì§€ë§Œ, ê¸°ì¡´ì˜ ì ì„±ìˆ  ì²´ê³„ì¸ 12ë³„ìë¦¬ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ê³  ìˆìŠµë‹ˆë‹¤.
            </div>
        </div>

        <a href="../index.html" class="back-btn">â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <script>
        // ë‚˜ì´ë³„ ë©˜íŠ¸ ë°ì´í„°ë² ì´ìŠ¤
        const adviceDB = [
            { min: 0, max: 2, msg: "ğŸ‘¶ ì‘ì• ! ì„¸ìƒ ëª¨ë“  ê²Œ ì‹ ê¸°í•  ë•Œì˜ˆìš”. ë¶€ëª¨ë‹˜ì˜ ì‚¬ë‘ì„ ë“¬ë¿ ë°›ê³  ë¬´ëŸ­ë¬´ëŸ­ ìë¼ì„¸ìš”! (ì ë§Œ ì˜ ìë„ íš¨ë„ëë‹ˆë‹¤)" },
            { min: 3, max: 4, msg: "ğŸ§’ 'ì‹«ì–´!', 'ì•ˆ í•´!' ë¯¸ìš´ ë„¤ ì‚´? ì•„ë‹ˆì£ , ìì•„ê°€ í˜•ì„±ë˜ëŠ” ì¤‘ìš”í•œ ì‹œê¸°ì…ë‹ˆë‹¤. í˜¸ê¸°ì‹¬ ëŒ€ì¥ë‹˜ì˜ ì§ˆë¬¸ í­ê²©ì´ ì‹œì‘ë©ë‹ˆë‹¤!" },
            { min: 5, max: 7, msg: "ğŸ’ ìœ ì¹˜ì›ì—ì„œ ì‘ì€ ì‚¬íšŒë¥¼ ë°°ìš°ê³  ìˆêµ°ìš”. ì¹œêµ¬ë“¤ê³¼ ì¥ë‚œê°ì„ ë‚˜ëˆ„ë©° ë°°ë ¤ì‹¬ì„ í‚¤ì›Œë³´ì„¸ìš”. ê³§ ì´ˆë“±í•™ìƒì´ ë©ë‹ˆë‹¤!" },
            { min: 8, max: 10, msg: "ğŸ« ì´ˆë“±í•™êµ ì €í•™ë…„! ë°›ì•„ì“°ê¸°ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ìš´ë™ì¥ì—ì„œ ì¹œêµ¬ë“¤ê³¼ ë›°ì–´ë…¸ëŠ” ê²Œ ì œì¼ í° ê³µë¶€ì˜ˆìš”. ì¤„ë„˜ê¸°ëŠ” ëª‡ ê°œë‚˜ í•˜ë‚˜ìš”?" },
            { min: 11, max: 13, msg: "ğŸŒ± ëª¸ë„ ë§ˆìŒë„ ì‘¥ì‘¥ í¬ëŠ” ì‚¬ì¶˜ê¸°ê°€ ì˜¤ë‚˜ìš”? ë‚˜ë§Œì˜ ì·¨ë¯¸ë¥¼ ì°¾ì•„ë³´ì„¸ìš”. ë¶€ëª¨ë‹˜ ë§ì”€ì´ ì”ì†Œë¦¬ì²˜ëŸ¼ ë“¤ë ¤ë„ ë‹¤ ì‚¬ë‘ì´ëë‹ˆë‹¤." },
            { min: 14, max: 16, msg: "ğŸ”¥ ì¤‘2ë³‘ì´ë¼ë„ ê´œì°®ì•„! ì§ˆí’ë…¸ë„ì˜ ì‹œê¸°, ë‚´ê°€ ì§„ì§œ ì¢‹ì•„í•˜ëŠ” ê²Œ ë­”ì§€ ê³ ë¯¼í•´ë³´ì„¸ìš”. ì´ ì‹œê¸°ì˜ ì¹œêµ¬ê°€ í‰ìƒ ì¹œêµ¬ê°€ ë˜ê¸°ë„ í•´ìš”." },
            { min: 17, max: 19, msg: "ğŸ“š ìˆ˜í—˜ìƒ íŒŒì´íŒ…! ì¸ìƒì—ì„œ ê°€ì¥ ì¹˜ì—´í•˜ê²Œ ê³µë¶€í•˜ëŠ” ì‹œê¸°ì¼ì§€ë„ ëª°ë¼ìš”. ê²°ê³¼ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ê·¸ ê³¼ì •ì—ì„œ ì–»ëŠ” ëˆê¸°ê°€ ë‹¹ì‹ ì˜ ìì‚°ì´ ë  ê±°ì˜ˆìš”." },
            { min: 20, max: 23, msg: "ğŸ“ ëŒ€í•™ìƒ, í˜¹ì€ ì‚¬íšŒë¡œì˜ ì²«ë°œ! ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œ ë§ê³  ë¬´ì—‡ì´ë“  ë„ì „í•´ë³¼ ìˆ˜ ìˆëŠ” í™©ê¸ˆê¸°ì…ë‹ˆë‹¤. ë°°ë‚­ì—¬í–‰, ë™ì•„ë¦¬, ì•Œë°”, ì—°ì•  ë‹¤ í•´ë³´ì„¸ìš”!" },
            { min: 24, max: 26, msg: "ğŸ’¼ ì·¨ì—… ì¤€ë¹„ë¡œ ê³ ë¯¼ì´ ë§ì£ ? ë‚¨ë“¤ê³¼ ë¹„êµí•˜ì§€ ë§ê³  ë‚˜ë§Œì˜ ì†ë„ë¡œ ê°€ë„ ê´œì°®ì•„ìš”. ë‹¹ì‹ ì€ ì•„ì§ í”¼ì§€ ì•Šì€ ê½ƒë´‰ì˜¤ë¦¬ì…ë‹ˆë‹¤." },
            { min: 27, max: 29, msg: "ğŸƒâ€â™‚ï¸ ì´ì‹­ ëŒ€ì˜ ë§ˆì§€ë§‰, ì¡°ê¸ˆì€ ì„±ìˆ™í•´ì§„ ë‚˜ë¥¼ ë°œê²¬í•˜ëŠ” ì‹œê¸°. 'ë‚˜'ë¥¼ ìœ„í•œ íˆ¬ìë¥¼ ì•„ë¼ì§€ ë§ˆì„¸ìš”. ë…ë¦½ì´ë‚˜ ê²°í˜¼ì— ëŒ€í•œ ê³ ë¯¼ë„ ì‹œì‘ë˜ê² ì£ ?" },
            { min: 30, max: 34, msg: "ğŸš€ ì„œë¥¸, ì”ì¹˜ëŠ” ëë‚¬ë‹¤? ì•„ë‹ˆìš”, ì´ì œ ì§„ì§œ ë‚´ ì¸ìƒì˜ 2ë§‰ì´ ì‹œì‘ë©ë‹ˆë‹¤. ì»¤ë¦¬ì–´ í™•ì¥ì— ì§‘ì¤‘í•˜ê³ , ì¬í…Œí¬(ì²­ì•½, íˆ¬ì)ì— ëˆˆì„ ëœ¨ì…”ì•¼ í•©ë‹ˆë‹¤." },
            { min: 35, max: 39, msg: "âš–ï¸ ì±…ì„ê°ì´ ë¬´ê±°ì›Œì§€ëŠ” ì‹œê¸°. íšŒì‚¬ì—ì„œë„ ê°€ì •ì—ì„œë„ í—ˆë¦¬ ì—­í• ì„ í•˜ê³  ê³„ì‹œë„¤ìš”. í•˜ì§€ë§Œ ê±´ê°•ë³´ë‹¤ ì¤‘ìš”í•œ ê±´ ì—†ì–´ìš”. ì˜ì–‘ì œ ê¼­ ì±™ê²¨ ë“œì„¸ìš”!" },
            { min: 40, max: 49, msg: "ğŸŒ³ ì¸ìƒì˜ í—ˆë¦¬, ë¶ˆí˜¹! í”ë“¤ë¦¬ì§€ ì•ŠëŠ” í¸ì•ˆí•¨...ì€ ì¹¨ëŒ€ ê´‘ê³ ê³ , ì—¬ì „íˆ ê³ ë¯¼ì€ ë§ì§€ë§Œ ì§€í˜œë¡­ê²Œ í—¤ì³ë‚˜ê°ˆ ìˆ˜ ìˆì–´ìš”. ì •ê¸° ê±´ê°•ê²€ì§„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤." },
            { min: 50, max: 59, msg: "ğŸ‚ ì§€ì²œëª…, í•˜ëŠ˜ì˜ ëœ»ì„ ì•„ëŠ” ë‚˜ì´. ì€í‡´ ì¤€ë¹„ì™€ ì œ2ì˜ ì¸ìƒ ì„¤ê³„ë¥¼ ì‹œì‘í•  ë•Œì…ë‹ˆë‹¤. ìë…€ë“¤ ë’·ë°”ë¼ì§€í•˜ëŠë¼ ë¯¸ë¤„ë’€ë˜ ì·¨ë¯¸ ìƒí™œì„ ë‹¤ì‹œ êº¼ë‚´ë³´ì„¸ìš”." },
            { min: 60, max: 69, msg: "ğŸ‘´ ì´ìˆœ, ê·€ê°€ ìˆœí•´ì§€ëŠ” ë‚˜ì´. ê·¸ë™ì•ˆ ì¹˜ì—´í•˜ê²Œ ì‚¬ì‹œëŠë¼ ê³ ìƒ ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤. ì´ì œëŠ” ë‚¨ ëˆˆì¹˜ ë³´ì§€ ë§ê³  ë‚˜ ìì‹ ì„ ìœ„í•´ í–‰ë³µí•˜ê²Œ ì‚¬ì„¸ìš”." },
            { min: 70, max: 79, msg: "ğŸŒŸ ê³ í¬ë¥¼ ë„˜ê¸´ ë‹¹ì‹ , ì‚´ì•„ì˜¨ ì„¸ì›” ìì²´ê°€ ì¡´ê²½ìŠ¤ëŸ½ìŠµë‹ˆë‹¤. ê°€ë²¼ìš´ ì‚°ì±…ê³¼ ì†Œì‹(å°é£Ÿ)ìœ¼ë¡œ ê±´ê°•ì„ ìœ ì§€í•˜ë©°, ì†ì£¼ë“¤ì—ê²Œ ì§€í˜œë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”." },
            { min: 80, max: 150, msg: "ğŸ™ ì‚°ìˆ˜, ë¯¸ìˆ˜, ì¡¸ìˆ˜... ì¥ìˆ˜ì˜ ì•„ì´ì½˜ì´ì‹œë„¤ìš”! í•˜ë£¨í•˜ë£¨ê°€ ì„ ë¬¼ ê°™ì€ ë‚ ë“¤ì…ë‹ˆë‹¤. ê±´ê°•í•˜ê³  í‰ì•ˆí•œ ì—¬ìƒì„ ê¸°ì›í•©ë‹ˆë‹¤." }
        ];

        // ìŒë ¥ ì²´í¬ë°•ìŠ¤ í‘œì‹œ í† ê¸€
        function toggleYoon(show) {
            document.getElementById('yoonLabel').style.display = show ? 'inline-block' : 'none';
        }

        function calcAge() {
            const birthStr = document.getElementById('birthDate').value;
            if(!birthStr) { showToast("ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }

            const isLunar = document.querySelector('input[name="calType"]:checked').value === 'lunar';
            const isYoon = document.getElementById('isYoon').checked;
            
            let birthDateObj;
            let convertedMsg = "";

            if (isLunar) {
                // ìŒë ¥ -> ì–‘ë ¥ ë³€í™˜ ë¡œì§
                try {
                    const tempDate = new Date(birthStr);
                    const y = tempDate.getFullYear();
                    const m = tempDate.getMonth() + 1;
                    const d = tempDate.getDate();

                    const calendar = new KoreanLunarCalendar();
                    calendar.setLunarDate(y, m, d, isYoon);
                    
                    const solar = calendar.getSolarCalendar();
                    birthDateObj = new Date(solar.year, solar.month - 1, solar.day);
                    
                    convertedMsg = `ì…ë ¥í•˜ì‹  <strong>ìŒë ¥ ${y}.${m}.${d}</strong>ì€<br>ì–‘ë ¥ìœ¼ë¡œ <strong>${solar.year}ë…„ ${solar.month}ì›” ${solar.day}ì¼</strong>ì…ë‹ˆë‹¤.`;
                    
                    // ë³€í™˜ ê²°ê³¼ í‘œì‹œ
                    const infoBox = document.getElementById('convertedDateInfo');
                    infoBox.style.display = 'block';
                    infoBox.innerHTML = convertedMsg;

                } catch(e) {
                    console.error(e);
                    showToast("ìŒë ¥ ë‚ ì§œ ë³€í™˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                    return;
                }
            } else {
                // ì–‘ë ¥ì¸ ê²½ìš°
                birthDateObj = new Date(birthStr);
                document.getElementById('convertedDateInfo').style.display = 'none';
            }

            const today = new Date();
            const by = birthDateObj.getFullYear();
            const bm = birthDateObj.getMonth();
            const bd = birthDateObj.getDate();

            // ë§Œ ë‚˜ì´
            let age = today.getFullYear() - by;
            const m = today.getMonth() - bm;
            if (m < 0 || (m === 0 && today.getDate() < bd)) age--;

            // ì—° ë‚˜ì´
            const ageYear = today.getFullYear() - by;

            // ë  (12ê°„ì§€) - ì…ì¶˜ ê¸°ì¤€ë³´ë‹¤ í†µìƒì ì¸ ì¶œìƒë…„ë„ ê¸°ì¤€ ì‚¬ìš©
            const zodiacs = ["ì›ìˆ­ì´", "ë‹­", "ê°œ", "ë¼ì§€", "ì¥", "ì†Œ", "í˜¸ë‘ì´", "í† ë¼", "ìš©", "ë±€", "ë§", "ì–‘"];
            const z = zodiacs[by % 12];

            // ë³„ìë¦¬
            const signs = [
                {n:"ì—¼ì†Œ", m:12, d:22}, {n:"ë¬¼ë³‘", m:1, d:20}, {n:"ë¬¼ê³ ê¸°", m:2, d:19},
                {n:"ì–‘", m:3, d:21}, {n:"í™©ì†Œ", m:4, d:20}, {n:"ìŒë‘¥ì´", m:5, d:21},
                {n:"ê²Œ", m:6, d:22}, {n:"ì‚¬ì", m:7, d:23}, {n:"ì²˜ë…€", m:8, d:23},
                {n:"ì²œì¹­", m:9, d:23}, {n:"ì „ê°ˆ", m:10, d:23}, {n:"ì‚¬ìˆ˜", m:11, d:23}, {n:"ì—¼ì†Œ", m:12, d:25}
            ];
            let sign = "ì—¼ì†Œ";
            const monthDay = (bm + 1) * 100 + bd;
            for(let i=0; i<signs.length-1; i++) {
                if(monthDay >= (signs[i].m*100 + signs[i].d) && monthDay < (signs[i+1].m*100 + signs[i+1].d)) {
                    sign = signs[i].n; break;
                }
            }
            if(monthDay >= 1222 || monthDay <= 119) sign = "ì—¼ì†Œ";

            // D-day ê³„ì‚° (ë‹¤ê°€ì˜¤ëŠ” ìƒì¼)
            // ìŒë ¥ì¸ ê²½ìš°, ë§¤ë…„ ìŒë ¥ ìƒì¼ì„ ì–‘ë ¥ìœ¼ë¡œ ë³€í™˜í•´ì•¼ ì •í™•í•˜ì§€ë§Œ, 
            // ì—¬ê¸°ì„œëŠ” 'ë²•ì  ë‚˜ì´' ê³„ì‚°ì´ ëª©ì ì´ë¯€ë¡œ ë³€í™˜ëœ ì–‘ë ¥ ìƒì¼(ì£¼ë¯¼ë“±ë¡ìƒ ìƒì¼)ì„ ê¸°ì¤€ìœ¼ë¡œ D-day ê³„ì‚°
            let nextBirth = new Date(today.getFullYear(), bm, bd);
            if(nextBirth < today) {
                nextBirth.setFullYear(today.getFullYear() + 1);
            }
            const diff = Math.ceil((nextBirth - today) / (1000 * 60 * 60 * 24));

            // ë‚˜ì´ë³„ ë©˜íŠ¸ ì°¾ê¸°
            const advice = adviceDB.find(a => age >= a.min && age <= a.max);
            const msg = advice ? advice.msg : "ì˜¤ëŠ˜ í•˜ë£¨ë„ í–‰ë³µí•˜ê²Œ ë³´ë‚´ì„¸ìš”!";

            document.getElementById('result').style.display = 'block';
            document.getElementById('ageMan').innerText = age + "ì„¸";
            document.getElementById('ageKor').innerText = `(ì—° ë‚˜ì´ ${ageYear}ì„¸)`;
            document.getElementById('zodiac').innerText = z + "ë ";
            document.getElementById('constellation').innerText = sign + "ìë¦¬";
            document.getElementById('dDay').innerText = `D-${diff}`;
            
            // ì¡°ì–¸ ì¶œë ¥
            document.getElementById('adviceBox').style.display = 'block';
            document.getElementById('adviceText').innerHTML = `<span class="advice-highlight">${age}ì„¸</span>ì˜ ë‹¹ì‹ ì—ê²Œ:<br>${msg}`;
        }
    </script>

    <script>
        // ë‹¤í¬ëª¨ë“œ í† ê¸€ ê¸°ëŠ¥
        function toggleThemeTool() {
            const current = document.documentElement.getAttribute('data-theme');
            if (current === 'dark') {
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
        }
    </script>

    <script>
        // í† ìŠ¤íŠ¸ ì•Œë¦¼ ê¸°ëŠ¥
        window.alert = function(message) {
            showToast(message);
        };

        function showToast(message) {
            let container = document.getElementById('toast-container');
            if (!container) {
                container = document.createElement('div');
                container.id = 'toast-container';
                document.body.appendChild(container);
            }
            const toast = document.createElement('div');
            toast.className = 'toast-message';
            toast.innerHTML = `<i class="fas fa-check-circle"></i> <span>${message}</span>`;
            container.appendChild(toast);
            requestAnimationFrame(() => {
                setTimeout(() => { toast.classList.add('show'); }, 10);
            });
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => { 
                    if(container.contains(toast)) container.removeChild(toast);
                }, 300);
            }, 2500);
        }
    </script>
</body>
</html>
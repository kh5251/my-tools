<!DOCTYPE html>
<html lang="ko">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9J3H9RR9ZD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9J3H9RR9ZD');
    </script>

    <script>
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ë‹¤ë¦¬ íƒ€ê¸° (ëœë¤ ë‚´ê¸°) - ì´ì§€íˆ´ì¦ˆ</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --primary: #8B5CF6; }
        .setup-area { margin-bottom: 20px; }
        .player-row { display: flex; gap: 10px; margin-bottom: 10px; }
        .player-row input { flex: 1; padding: 10px; }
        .result-list { margin-top: 20px; text-align: left; background: #F3F4F6; padding: 20px; border-radius: 10px; display: none; }
        .match-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; font-weight: bold; }
        .match-item:last-child { border: none; }
        .p-name { color: #333; }
        .p-res { color: var(--primary); }
    </style>
    <link rel="manifest" href="../manifest.json">

    <link rel="icon" type="image/png" sizes="32x32" href="../images/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../images/icon-192.png">

</head>
<body class="tool-page">
    <div class="container">
    <button class="tool-theme-btn" onclick="toggleThemeTool()">
        <i class="fas fa-moon"></i>
    </button>

        <h1><i class="fas fa-stream"></i> ì‚¬ë‹¤ë¦¬ íƒ€ê¸° (ëœë¤ ë§¤ì¹­)</h1>
        
        <div class="input-group">
            <label>ì°¸ì—¬ ì¸ì› ìˆ˜</label>
            <div style="display:flex; gap:10px;">
                <input type="number" id="pCount" value="3" min="2" max="10">
                <button class="btn" style="background:#6B7280; color:white; width:80px; border-radius:8px;" onclick="setup()">ì„¤ì •</button>
            </div>
        </div>

        <div id="inputs" class="setup-area">
            </div>

        <button class="calc-btn" onclick="runSadari()">ê²°ê³¼ í™•ì¸!</button>

        <div class="result-list" id="result">
            </div>

        <div class="info-section">
            <h2>ê³µì •í•œ ë‚´ê¸°ì˜ ëŒ€ëª…ì‚¬, ì‚¬ë‹¤ë¦¬ íƒ€ê¸°</h2>
            <p>ì ì‹¬ ë‚´ê¸°, ì»¤í”¼ ë‚´ê¸°, ë²Œì¹™ ì •í•˜ê¸° ë“± ì¼ìƒì—ì„œ ìŠ¹ë¶€ë¥¼ ê°€ë ¤ì•¼ í•  ë•Œ ê°€ì¥ ë§ì´ ì“°ëŠ” ë°©ë²•ì´ ë°”ë¡œ 'ì‚¬ë‹¤ë¦¬ íƒ€ê¸°'ì…ë‹ˆë‹¤. ì‚¬ë‹¤ë¦¬ íƒ€ê¸°ëŠ” ì°¸ì—¬ì ìˆ˜ì™€ ë‹¹ì²¨ í•­ëª© ìˆ˜ê°€ ê°™ì„ ë•Œ, ì„ ì„ ë”°ë¼ ë‚´ë ¤ê°€ë©° 1:1ë¡œ ë§¤ì¹­ë˜ëŠ” ê²Œì„ì…ë‹ˆë‹¤. ì´ì§€íˆ´ì¦ˆì˜ ì‚¬ë‹¤ë¦¬ ê²Œì„ì€ ë³µì¡í•œ ê·¸ë¦¼ ëŒ€ì‹ , ì»´í“¨í„°ì˜ ë‚œìˆ˜ ìƒì„± ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ìˆœì‹ê°„ì— ê³µì •í•˜ê²Œ ì§ì„ ì§€ì–´ì£¼ëŠ” <strong>ëœë¤ ë§¤ì¹­ ë°©ì‹</strong>ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>

            <h3>1. ì‚¬ë‹¤ë¦¬ íƒ€ê¸°ì˜ ìˆ˜í•™ì  ì›ë¦¬ (ì¹˜í™˜)</h3>
            <p>ì‚¬ë‹¤ë¦¬ íƒ€ê¸°ëŠ” ìˆ˜í•™ì ìœ¼ë¡œ <strong>'ì¼ëŒ€ì¼ ëŒ€ì‘ í•¨ìˆ˜(Bijective Function)'</strong>ì…ë‹ˆë‹¤. ì„¸ë¡œì¤„(ì‚¬ëŒ)ì´ ë‚´ë ¤ê°€ë‹¤ê°€ ê°€ë¡œì¤„(ë‹¤ë¦¬)ì„ ë§Œë‚˜ë©´ ì˜†ìœ¼ë¡œ ì´ë™í•˜ëŠ”ë°, ì–´ë–¤ ê°€ë¡œì¤„ì„ ë§Œë‚˜ë„ ê²¹ì¹˜ê±°ë‚˜ ëŠì–´ì§€ì§€ ì•Šê³  ë°˜ë“œì‹œ í•˜ë‚˜ì˜ ê²°ê³¼ì— ë„ë‹¬í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ë¥¼ ìˆ˜í•™ ìš©ì–´ë¡œ 'ì¹˜í™˜(Permutation)'ì´ë¼ê³  í•©ë‹ˆë‹¤. ì¦‰, ì‚¬ë‹¤ë¦¬ íƒ€ê¸°ëŠ” ì°¸ì—¬ìë“¤ì˜ ìˆœì„œë¥¼ ë¬´ì‘ìœ„ë¡œ ì„ëŠ” ê²ƒê³¼ ìˆ˜í•™ì ìœ¼ë¡œ ì™„ë²½í•˜ê²Œ ë™ì¼í•©ë‹ˆë‹¤.</p>

            <h3>2. ì§„ì§œ ëœë¤ì¼ê¹Œ? (í™•ë¥ ì˜ ê³µì •ì„±)</h3>
            <p>ì†ìœ¼ë¡œ ì‚¬ë‹¤ë¦¬ë¥¼ ê·¸ë¦´ ë•ŒëŠ” "ë§ì´ ê¼¬ì¸ ìª½ì´ ê±¸ë¦´ í™•ë¥ ì´ ë†’ë‹¤"ê±°ë‚˜ "ì§ì„  ì½”ìŠ¤ê°€ ìœ ë¦¬í•˜ë‹¤"ëŠ” ì†ì„¤ì´ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì‚¬ëŒì´ ê·¸ë¦¬ë©´ íŒ¨í„´ì´ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì»´í“¨í„° í”„ë¡œê·¸ë¨ìœ¼ë¡œ ëŒë¦¬ëŠ” ì‚¬ë‹¤ë¦¬ ê²Œì„ì€ <strong>ì™„ì „ ë¬´ì‘ìœ„(Random)</strong> ë°©ì‹ì„ ì‚¬ìš©í•˜ë¯€ë¡œ íŒ¨í„´ì´ë‚˜ í¸í–¥ì´ ì—†ìŠµë‹ˆë‹¤. ê½ì´ ê±¸ë ¸ë‹¤ë©´, ê·¸ê²ƒì€ ì˜¤ì§ ë‹¹ì‹ ì˜ ìš´ì…ë‹ˆë‹¤!</p>
        </div>

        <a href="../index.html" class="back-btn">â† ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    </div>

    <script>
        // ì´ˆê¸° 3ëª… ì„¸íŒ…
        window.onload = setup;

        function setup() {
            const cnt = parseInt(document.getElementById('pCount').value);
            if(cnt < 2 || cnt > 20) { alert("2~20ëª… ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
            
            const div = document.getElementById('inputs');
            div.innerHTML = "";
            
            for(let i=0; i<cnt; i++) {
                div.innerHTML += `
                    <div class="player-row">
                        <input type="text" class="name-in" placeholder="ì°¸ì—¬ì ${i+1} (ì´ë¦„)">
                        <input type="text" class="res-in" placeholder="ê²°ê³¼ ${i+1} (ë²Œì¹™/ê½)">
                    </div>
                `;
            }
            document.getElementById('result').style.display = 'none';
        }

        function runSadari() {
            const names = Array.from(document.querySelectorAll('.name-in')).map(i => i.value || i.placeholder);
            const results = Array.from(document.querySelectorAll('.res-in')).map(i => i.value || i.placeholder);

            // ê²°ê³¼ ë°°ì—´ ì„ê¸° (Fisher-Yates Shuffle)
            for (let i = results.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [results[i], results[j]] = [results[j], results[i]];
            }

            const resDiv = document.getElementById('result');
            resDiv.innerHTML = "<h3 style='text-align:center; margin-top:0;'>ğŸ‰ ê²°ê³¼ ë°œí‘œ ğŸ‰</h3>";
            
            names.forEach((name, idx) => {
                resDiv.innerHTML += `
                    <div class="match-item">
                        <span class="p-name">${name}</span>
                        <i class="fas fa-arrow-right" style="color:#ddd;"></i>
                        <span class="p-res">${results[idx]}</span>
                    </div>
                `;
            });
            resDiv.style.display = 'block';
        }
    </script>

    <script>
        // ë‹¤í¬ëª¨ë“œ í† ê¸€ ê¸°ëŠ¥
        function toggleThemeTool() {
            const current = document.documentElement.getAttribute('data-theme');
            if (current === 'dark') {
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
        }
    </script>

    <script>
        // ê¸°ì¡´ alert() í•¨ìˆ˜ë¥¼ ê°€ë¡œì±„ì„œ í† ìŠ¤íŠ¸ë¡œ ë³´ì—¬ì£¼ëŠ” ë§ˆë²•ì˜ ì½”ë“œ
        window.alert = function(message) {
            showToast(message);
        };

        function showToast(message) {
            // ì»¨í…Œì´ë„ˆê°€ ì—†ìœ¼ë©´ ìƒì„±
            let container = document.getElementById('toast-container');
            if (!container) {
                container = document.createElement('div');
                container.id = 'toast-container';
                document.body.appendChild(container);
            }

            // ë©”ì‹œì§€ ë°•ìŠ¤ ìƒì„±
            const toast = document.createElement('div');
            toast.className = 'toast-message';
            // ì•„ì´ì½˜ê³¼ ë©”ì‹œì§€ ê²°í•©
            toast.innerHTML = `<i class="fas fa-check-circle"></i> <span>${message}</span>`;

            container.appendChild(toast);

            // ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
            requestAnimationFrame(() => {
                setTimeout(() => { toast.classList.add('show'); }, 10);
            });

            // 2.5ì´ˆ í›„ ì œê±°
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => { 
                    if(container.contains(toast)) container.removeChild(toast);
                }, 300);
            }, 2500);
        }
    </script>
</body>


</html>
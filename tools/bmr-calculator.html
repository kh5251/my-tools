<!DOCTYPE html>
<html lang="ko">
<head>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9J3H9RR9ZD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9J3H9RR9ZD');
    </script>

    <script>
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
        }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기초대사량(BMR) 계산기 - 이지툴즈</title>
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --primary: #059669; }

        /* 고유 디자인 */
        .gender-select { display: flex; gap: 10px; }
        .gender-btn { flex: 1; padding: 12px; border: 1px solid #ddd; background: #fff; cursor: pointer; border-radius: 8px; font-weight: bold; }
        .gender-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
        .bmr-val { font-size: 2rem; font-weight: bold; color: var(--primary); }
    </style>
    <link rel="manifest" href="../manifest.json">

    <link rel="icon" type="image/png" sizes="32x32" href="../images/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../images/icon-192.png">

</head>
<body class="tool-page">
    <div class="container">
    <button class="tool-theme-btn" onclick="toggleThemeTool()">
        <i class="fas fa-moon"></i>
    </button>

        <h1><i class="fas fa-running"></i> 기초대사량 계산기</h1>
        
        <div class="input-group">
            <label>성별</label>
            <div class="gender-select">
                <button class="gender-btn active" onclick="setGender('m')" id="btnM">남성</button>
                <button class="gender-btn" onclick="setGender('f')" id="btnF">여성</button>
            </div>
        </div>
        <div class="input-group"><label>나이 (세)</label><input type="number" id="age" placeholder="예: 30"></div>
        <div class="input-group"><label>키 (cm)</label><input type="number" id="height" placeholder="예: 175"></div>
        <div class="input-group"><label>몸무게 (kg)</label><input type="number" id="weight" placeholder="예: 70"></div>
        
        <div class="input-group">
            <label>활동량 선택</label>
            <select id="activity">
                <option value="1.2">숨만 쉼 (운동 안 함)</option>
                <option value="1.375">가벼운 활동 (주 1~3회 운동)</option>
                <option value="1.55">보통 활동 (주 3~5회 운동)</option>
                <option value="1.725">많은 활동 (주 6~7회 운동)</option>
                <option value="1.9">매우 많은 활동 (선수급)</option>
            </select>
        </div>

        <button class="calc-btn" onclick="calcBMR()">내 대사량 확인</button>

        <div class="result-box" id="result" style="text-align:center; border: 2px dashed var(--primary); background:#F0FDF4;">
            <div>숨만 쉬어도 소모되는 <strong>기초대사량 (BMR)</strong></div>
            <div class="bmr-val" id="bmrRes">0 kcal</div>
            <hr style="border:0; border-top:1px dashed #ccc; margin:15px 0;">
            <div>하루 권장 섭취량 <strong>(유지 칼로리 TDEE)</strong></div>
            <div class="bmr-val" style="font-size:1.5rem; color:#333;" id="tdeeRes">0 kcal</div>
        </div>

        <div class="info-section">
            <h2>숨만 쉬어도 살이 빠진다? 기초대사량의 비밀</h2>
            <p>다이어트를 시작할 때 가장 먼저 알아야 할 숫자는 몸무게가 아니라 바로 <strong>기초대사량(BMR: Basal Metabolic Rate)</strong>입니다. 기초대사량이란 우리가 하루 종일 아무것도 하지 않고 가만히 누워만 있어도 생명 유지를 위해(심장 박동, 호흡, 체온 유지 등) 소모되는 최소한의 에너지를 말합니다. 전체 칼로리 소모의 약 60~70%를 차지할 만큼 비중이 큽니다.</p>
        
            <h3>1. BMR vs TDEE, 무엇이 다를까?</h3>
            <p>많은 분이 BMR과 TDEE를 헷갈려 합니다. 다이어트 식단을 짤 때는 이 두 가지를 명확히 구분해야 합니다.</p>
            <ul>
                <li><strong>기초대사량 (BMR):</strong> 생존을 위한 최소한의 칼로리. (자동차의 공회전 연료)</li>
                <li><strong>활동대사량 (TDEE):</strong> BMR에 출퇴근, 운동, 집안일 등 활동으로 쓰는 에너지를 더한 총량. (실제 주행 연료)</li>
            </ul>
            <p>이지툴즈 계산기는 현재 가장 정확도가 높다고 알려진 <strong>'미플린-세인트 지어(Mifflin-St Jeor)'</strong> 공식을 사용하여 여러분의 BMR과 TDEE를 정밀하게 계산해 드립니다.</p>
        
            <h3>2. 살 빠지는 공식: 칼로리 적자 (Calorie Deficit)</h3>
            <p>체중 감량의 원리는 단순합니다. <strong>'먹는 양 < 쓰는 양'</strong> 상태를 유지하면 됩니다. 보통 TDEE보다 300~500kcal 정도 적게 먹으면 건강하게 살을 뺄 수 있습니다.</p>
        
            <div class="highlight-box">
                <strong>⚠️ 경고: 기초대사량보다 적게 먹지 마세요!</strong><br>
                빨리 살을 빼고 싶은 욕심에 '초절식'을 하며 BMR보다 적게 먹는 경우가 많습니다. 이렇게 되면 우리 몸은 비상사태(기아 모드)를 선포하고 에너지를 아끼기 위해 대사량을 강제로 낮춥니다. 그 결과 조금만 먹어도 살이 찌는 <strong>'살이 잘 찌는 체질'</strong>로 변하게 되며, 이것이 바로 무서운 <strong>요요 현상</strong>의 주원인입니다.
            </div>
        </div>

        <a href="../index.html" class="back-btn">← 메인으로 돌아가기</a>
    </div>

    <script>
        let gender = 'm';
        function setGender(g) {
            gender = g;
            document.getElementById('btnM').className = g === 'm' ? 'gender-btn active' : 'gender-btn';
            document.getElementById('btnF').className = g === 'f' ? 'gender-btn active' : 'gender-btn';
        }

        function calcBMR() {
            const age = parseFloat(document.getElementById('age').value);
            const h = parseFloat(document.getElementById('height').value);
            const w = parseFloat(document.getElementById('weight').value);
            const act = parseFloat(document.getElementById('activity').value);

            if(!age || !h || !w) { alert("정보를 모두 입력해주세요."); return; }

            // 미플린-세인트 지어 공식
            let bmr = (10 * w) + (6.25 * h) - (5 * age);
            if(gender === 'm') bmr += 5; else bmr -= 161;

            const tdee = bmr * act;

            document.getElementById('result').style.display = 'block';
            document.getElementById('bmrRes').innerText = Math.round(bmr) + " kcal";
            document.getElementById('tdeeRes').innerText = Math.round(tdee) + " kcal";
        }
    </script>

    <script>
        // 다크모드 토글 기능
        function toggleThemeTool() {
            const current = document.documentElement.getAttribute('data-theme');
            if (current === 'dark') {
                document.documentElement.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else {
                document.documentElement.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
        }
    </script>

    <script>
        // 기존 alert() 함수를 가로채서 토스트로 보여주는 마법의 코드
        window.alert = function(message) {
            showToast(message);
        };

        function showToast(message) {
            // 컨테이너가 없으면 생성
            let container = document.getElementById('toast-container');
            if (!container) {
                container = document.createElement('div');
                container.id = 'toast-container';
                document.body.appendChild(container);
            }

            // 메시지 박스 생성
            const toast = document.createElement('div');
            toast.className = 'toast-message';
            // 아이콘과 메시지 결합
            toast.innerHTML = `<i class="fas fa-check-circle"></i> <span>${message}</span>`;

            container.appendChild(toast);

            // 애니메이션 시작
            requestAnimationFrame(() => {
                setTimeout(() => { toast.classList.add('show'); }, 10);
            });

            // 2.5초 후 제거
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => { 
                    if(container.contains(toast)) container.removeChild(toast);
                }, 300);
            }, 2500);
        }
    </script>
</body>


</html>